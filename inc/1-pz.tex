\section{Сучасний стан проблеми та основні задачі роботи}

\subsection{Огляд існуючих практик проектування та розробки програмного забезпечення}

При проектуванні та розробці програмного забезпечення команда
розробників залучається до проекту, основною метою проектування
та розробки є постачання якісного продукту.
Якість означає повне дотримання вимог, відсутність помилок,
високий рівень безпеки та здатність витримувати великі навантаження 
\cite{tdd-bdd-article}.

Додаток або веб-сайт також повинні додавати цінності клієнтам,
працювати за призначенням та забезпечувати інтуїтивно зрозумілий інтерфейс,
щоб ним можна було користуватися навіть не думаючи. Не дивлячись на те,
що все це досить складно, для спрощення та вдосконалення розробки веб-додатків з’явилися
найкращі практики розробки програмного забезпечення \cite{business-rybakov}.

\subsubsection{Керована тестами розробка}

Керована тестами розробка (Test-driven development, TDD) 
- це підхід до розробки програмного забезпечення,
в якому розробляються тестові кейси, які визначають необхідні покращення або нові функції.
Якщо говорити простими словами, спочатку створюються і перевіряються тестові кейси
для кожної функціональності, а якщо пройти тест не вдається,
то для проходження тесту пишеться новий код \cite{tdd-article}.

Основними перевагами керованою тестами розробки є:

\begin{itemize}
		\item поліпшення якості шляхом виправлення помилок якнайшвидше під час розробки;
		\item значне підвищення якості коду;
		\item покращення розуміння коду оскільки рефакторинг
			вимагає регулярного вдосконалення;
		\item покращення швидкості розробки, оскільки розробникам
			не потрібно витрачати час на відлагодження програми.
\end{itemize}

Принцип роботи керованою тестами розробки зображений на рисунку \ref{tdd}.
\addimghere{tdd}{0.45}{Цикл керованою тестами розробки}{tdd}

Відповідно до досліджень недоліками використання підходу є:

\begin{itemize}
		\item неможливість гарантувати відсутність помилок у програмі,
			навіть за наявності широкого спектру тестових кейсів;
		\item велика витрата часу на розробку тестових кейсів
			та підтримку належних наборів тестів \cite{tdd-thesis}.
\end{itemize}


\subsubsection{Керована поведінкою розробка}

Керована поведінкою розробка (Behavior-driven development, BDD) 
- це синтез та вдосконалення практик, що випливають з
керованої тестами розробки (TDD) та керованою тестами розробки прийняття
(Acceptance test–driven development, ATDD) \cite{bdd-article}.
BDD доповнює TDD та ATDD за допомогою наступних технік:

\begin{itemize}
		\item Мислення «ззовні всередину», іншими словами, застосовувати
			лише ті способи поведінки, які найбільше сприяють цим результатам бізнесу,
			щоб мінімізувати витрати.
		\item Описування поведінки в одній нотації,
			яка є безпосередньо доступною для експертів області,
			тестувальників та розробників, з метою покращення комунікації.
		\item Застосування цих методів аж до найнижчих рівнів абстрагування
			програмного забезпечення, приділяючи особливу увагу розподілу поведінки,
			щоб прогресування залишалося дешевим.
\end{itemize}

Команди, які вже використовують TDD або ATDD, 
можуть захотіти розглянути BDD саме з таких причин:

\begin{itemize}
		\item BDD пропонує більш точні вказівки щодо організації бесіди між розробниками,
			тестувальниками та експертами предметної області.
		\item Інструменти, орієнтовані на підхід BDD, як правило,
			дозволяють автоматично створювати технічну документацію
			та документацію для кінцевих користувачів із “специфікацій” BDD.
\end{itemize}

Недоліком даного підходу є необхідність представити команду розробників для роботи з клієнтом.
Короткий час реакції, необхідний для процесу, означає високий рівень доступності.
Однак, якщо клієнт добре розуміє, що задіяно у проекті розробки,
заснованому на принципах Agile, експерт-клієнт буде доступний у разі потреби.
І якщо команди розробників працюють максимально ефективно,
їх вимоги до експерта-клієнта будуть мінімізовані \cite{bdd-article-2}.


\subsubsection{Неперервна інтеграція}

Неперервна інтеграція (Continuous Integration, CI)
- це практика розробки програмного забезпечення,
при якій зміни кодової бази є інтегрованими в сховища потоків після
побудови та перевірки за допомогою автоматизованого робочого процесу \cite{ci-book}.
Принцип роботи неперервної інтеграції зображений на рисунку \ref{ci}.
\addimghere{ci}{0.55}{Цикл роботи неперервної інтеграції}{ci}

Основні переваги використання неперервної інтеграції:

\begin{itemize}
		\item середній час до роздільної здатності 
			(Mean time to resolution, MTTR) швидший і коротший;
		\item ізоляція несправностей менша і швидша;
		\item підвищений рівень випуску допомагає швидше виявляти
			та виправляти несправності;
		\item автоматизація в CI зменшує кількість помилок,
			які можуть виникнути на багатьох етапах.
\end{itemize}

Недоліки використання неперервної інтеграції:

\begin{itemize}
		\item кодова база повинна бути готова і негайно впроваджена у виробництво,
			як тільки поточний результат буде успішним;
		\item підхід вимагає суворої дисципліни з боку учасників.
			Невдачі у дотриманні процесів незмінно породжуватимуть помилки,
			витрачаючи час і гроші;
		\item деякі галузеві середовища не підходять для неперервної інтеграції.
			Медична сфера та авіація вимагають багато випробувань,
			щоб включити код у загальну систему \cite{ci-article}.
\end{itemize}


\subsubsection{Безперервна доставка}

Безперервна доставка (Continuous delivery, CD) - це підхід до програмної інженерії,
при якому команди продовжують виробляти цінне програмне забезпечення
за короткі цикли та забезпечують надійний випуск програмного
забезпечення в будь-який час \cite{cd-chen}.
Модель безперервної доставки зображена на рисунку \ref{cd-model}

\addimghere{cd}{0.9}{Модель безперервної доставки}{cd-model}

Переваги використання безперервної доставки:

\begin{itemize}
    \item Прискорений час виходу на ринок. Час циклу від задуму
      історій користувачів до виробництва зменшується з кількох місяців
      до двох-п'яти днів. Частота вивільнення зростає від 
      одного разу на один до шести місяців, до одного разу на тиждень \cite{cd-chen}.
    \item Створення правильного продукту. Часті випуски дозволяють
      командам розробників додатків швидше отримувати відгуки
      користувачів. Це дозволяє їм працювати лише над корисними функціями.
      Якщо вони виявляють, що якась функція не є корисною,
      вони не витрачають на неї подальших зусиль. Це допомагає їм створити правильний продукт.
    \item Надійні релізи. Зникає високий рівень стресу та невизначеності,
      пов'язаний з випуском продукту. 
\end{itemize}

Недоліки використання безперервної доставки:

\begin{itemize}
    \item Вартість переходу. Реалізація постійної доставки вимагає
      великих зусиль, часу та грошей. Зміна робочого циклу,
      автоматизація процесу тестування та розміщення ваших
      сховищ у Git - це лише деякі процеси, з якими вам доведеться впоратись.
    \item Важкість в обслуговуванні.  Практики безперервної доставки потребують
      постійної підтримки. Це може бути важко для великих фінансових організацій,
      які пропонують різноманітні послуги. Такі компанії матимуть не один,
      а кілька трубопроводів, деякі з яких можуть навіть закінчуватися
      на різних етапах постачання. Це ускладнює порівняння
      пропускної здатності та часу циклу \cite{cd-article}.
\end{itemize}


\subsection{Огляд існуючих методологій проектування та розробки програмного забезпечення}

\subsubsection{Scrum}
Scrum - це структура, в якій люди можуть вирішувати складні адаптаційні
проблеми, одночасно продуктивно та творчо поставляючи продукти з
найвищою можливою цінністю \cite{what-is-scrum,scrum-guide}.

Характеристики методології Scrum:
\begin{itemize}
    \item Перша та остання фази (планування та закриття) складаються
      з визначених процесів, де всі процеси, входи та результати є чітко
      визначеними. Знання про те, як виконувати ці процеси, є явними.
      Потік лінійний, з деякими ітераціями на етапі планування.
    \item Фаза спринту - це емпіричний процес. Багато процесів
      у фазі спринту невстановлені або неконтрольовані. Це трактується
      як чорний ящик, який вимагає зовнішнього контролю. Відповідно,
      контролі, включаючи управління ризиками, покладаються на кожну
      ітерацію фази спринту, щоб уникнути хаосу, максимізуючи гнучкість.
    \item Спринти нелінійні та гнучкі. Там, де це можливо,
      використовуються явні знання процесу; інакше мовчазні знання
      та спроби та помилки використовуються для формування знань про процес.
      Спринти використовуються для розвитку кінцевого продукту.
    \item Проект відкритий для навколишнього середовища до фази закриття.
      Доставка може бути змінена в будь-який час на етапах планування та спринту.
      Проект залишається відкритим для екологічної складності, включаючи конкуренцію,
      час, якість та фінансовий тиск, протягом усіх етапів.
    \item Результат визначається під час проекту, виходячи з середовища \cite{schwaber-scrum}.
\end{itemize}

Переваги методології Scrum:
\begin{itemize}
    \item Весь процес розробки відбувається за короткі ітерації.
      Тому, коли йдеться про зміни в проекті, команда розробників
      може плавно та вчасно адаптуватися.
    \item Зацікавлені сторони можуть надати вам відгук відразу після
      закінчення спринту та до початку наступного.
      Тож команда може одразу реалізувати всі вимоги.
    \item Завдяки постійному зворотному зв'язку та регулярному 
      тестуванню підвищується якість процесу розробки.
    \item Часто спілкування в команді забезпечує 
      загальне розуміння проекту та його рішень.
\end{itemize}

Недоліки використання методології Scrum:
\begin{itemize}
    \item Немає визначениї термінів доставки продукції. Дуже часто це призводить
      до тривалих дискусій між власником продукту 
      та менеджером проектів, які вимагають нових функціональних можливостей.
    \item Scrum здебільшого підходить для менших команд.
      Для великих команд потрібно масштабувати Scrum, що завжди важко \cite{scrum-pros-cons}.
\end{itemize}


\subsection{Концепція предметно-орієнтованого проектування}

Предметно-орієнтоване проектування (Domain-driven design, DDD) 
- це підхід до розробки програмного забезпечення, 
який зосереджує розробку на програмуванні моделі предметної області,
що має глибоке розуміння процесів та правил домену.
Назва походить від книги Еріка Еванса 2003 року,A
яка описує підхід через каталог шаблонів \cite{ddd-evans}.
З тих пір спільнота практиків розвивала ідеї,
породжуючи різні інші книги та навчальні курси.
Підхід особливо підходить для складних доменів,
де потрібно організувати багато часто безладної логіки.

У книзі Domain-Driven Design \cite{ddd-evans}, сформульований ряд концепцій і практик.
Так, наприклад, особлива увага приділяється значенню загальної мови (Ubiquitous language).
При проектуванні моделі предметної області необхідно сформувати спільну мову
предметної області для опису вимог до системи, яка працює однаково добре
як для бізнес-користувачів або спонсорів, так і для розробників програмного забезпечення.
Ця мова означується експертами в обраній галузі. Книга зосереджена на описі доменного рівня,
як одного із загальних рівнів в об'єктно-орієнтованій системі з багаторівневою архітектурою.
У DDD є засоби для висловлення, створення та вилучення моделей предметної області:

\begin{itemize}
	\item Сутність: Категорія індивідуальних об'єктів,
		які залишаються незмінними на різних етапах програми,
		для яких атрибути не грають великого значення, а послідовність та ідентичність,
		які поширюється в житті усієї системи називаються сутностями.
	\item Об'єкт значення: Об'єкт, який містить атрибути,
		але не має концептуальної ідентичності. Він повинен розглядатися як незмінний об'єкт.
	\item Сукупність: Колекція об'єктів, які пов'язані між собою завдяки
		головній сутності (Root Entity), інакше відомій як Aggregate root.
		Коренева сутність колекції об'єктів гарантує узгодженість змін,
		що вносяться до сукупності, забороняючи зовнішнім об'єктам посилатися на членів колекції.
	\item Доменна подія: Подія, яка сталася в певному домені, і фіксує пам'ять про нього.
		Це дає можливість повідомляти інші частини того самого домену про те,
		що сталося якась зміна, і ці інші частини потенційно можуть реагувати \cite{de-article}.
	\item Сервіс: Коли будь-яка операція концептуально не відноситься до будь-якого об'єкту,
		вона може бути реалізована в сервісі.
	\item Сховище: Отримання об'єктів предметної області повинно делегуватися
		в спеціалізовані сховища об'єктів. Це дає можливість підміняти місце збереження об'єктів.
	\item Фабрика: Створення об'єктів предметної області повинно бути делеговане до
		спеціалізованих фабрик. Це дає можливість підміняти реалізацію створення об'єктів.
\end{itemize}

Для того, щоб добре використовувати предметно-орієнтоване проектування,
нам потрібно прийняти до уваги принципи SOLID \cite{solid-martin},
організувати рівень бізнес логіки в основі нашої багаторівневої архітектури,
використовувати багато інверсії та впровадження залежностей,
щоб підключити адаптери до рівня персистентності, веб та зовнішніх технологій.

Переваги використання предметно-орієнтованого проектування:

\begin{enumerate}
		\item Загальнодоступна мова, полегшує спілкування між
			розробниками та представниками бізнесу, а також між самими розробниками.
		\item Оскільки система була побудована для моделювання бізнес процесів,
			її, як правило, буде гнучкіше змінювати,
			оскільки нові функціональні вимоги цілком вписуються.
		\item Завдяки способу побудови моделей домену з використанням
      інкапсуляції зрозумілості та хорошого розподілу моделей,
      доменні системи, як правило, є більш підтримуваною за
      своєю природою \cite{ddd-pros-cons}.
\end{enumerate}

Для того, щоб допомогти зберегти модель як чисту та корисну конструкцію мови,
команда, як правило, повинна здійснити велику кількість ізоляції та інкапсуляції
в рамках доменної моделі. Отже, система, що базується на предметно-орієнтованому дизайні,
може мати відносно високу вартість. Хоча предметно-орієнтоване проектування
забезпечує багато технічних переваг, Microsoft рекомендує застосовувати його лише до складних доменів,
де модель та лінгвістичні процеси дають чіткі переваги при передачі складної
інформації та формулюванні загального розуміння домену.


\subsection{Висновки}
В першому розділі розглянуто основні аспекти роботи: проведено огляд
та аналіз існуючих практик розробки програмного забезпечення,
представлено основні поняття по темі, наведено переваги використання
предметно-орієнтованого проектування.
